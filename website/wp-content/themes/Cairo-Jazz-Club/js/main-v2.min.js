var Init=function(a){var b={};return b.AutoRun=function(){a(document).ready(function(){b.Modal(),b.ResponsiveMenu(),b.MagnificPopup(),b.HomeParallaxSlider(),b.Footer(),b.Header()})},b.ResponsiveMenu=function(){a(".main-menu").mmenu({offCanvas:{position:"right",zposition:"front"}},{clone:!0})},b.MagnificPopup=function(){a("body").magnificPopup({delegate:".modal-link",type:"ajax",callbacks:{open:function(){a("body").removeClass("hide-horizontal-scrollbar")},afterClose:function(){a("body").addClass("hide-horizontal-scrollbar")}}}).addClass("hide-horizontal-scrollbar"),a(".social-icons").magnificPopup({delegate:".modal-link-inline",type:"inline",callbacks:{open:function(){a("body").removeClass("hide-horizontal-scrollbar")},afterClose:function(){a("body").addClass("hide-horizontal-scrollbar")}}})},b.HomeParallaxSlider=function(){var b,c=new ScrollMagic.Controller({vertical:!0}),d=new ScrollMagic.Scene({duration:1e4});d.addTo(c);var e=function(){var c=182,e=a(window).width();e<=600?c=70:e<=768?c=60:e<=1024&&(c=110),b=TweenMax.fromTo(".parallax",1,{bottom:c},{bottom:7975}),d.setTween(b)};e(),a(window).bind("resize",e),a(".events-slider").slick({centerMode:!0,arrows:!1,centerPadding:"20px",slidesToShow:3,responsive:[{breakpoint:680,settings:{arrows:!1,centerMode:!0,centerPadding:"0",slidesToShow:3}},{breakpoint:580,settings:{arrows:!0,centerMode:!0,centerPadding:"0",slidesToShow:1}}]})},b.Modal=function(){var b=document.getElementById("filled").value;1==b&&a.magnificPopup.open({items:{src:"wp-content/themes/Cairo-Jazz-Club/modal-templates/preference-modal.php",type:"ajax"}})},b.Event=function(b){moment().format("YYYY-MM");a.getJSON(b,function(b){var c=b;a(window).width()>=1024?a(".calendar").clndr({daysOfTheWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday "],events:c,multiDayEvents:{singleDay:"date",endDate:"endDate",startDate:"startDate"},showAdjacentMonths:!0,adjacentDaysChangeMonth:!1,template:a("#template-calendar").html()}):a(".calendar").clndr({daysOfTheWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],events:c,multiDayEvents:{singleDay:"date",endDate:"endDate",startDate:"startDate"},showAdjacentMonths:!0,adjacentDaysChangeMonth:!1,template:a("#template-calendar").html()})})},b.Footer=function(){var b=a(".bottom-footer").outerHeight();a(".bottom-footer").css({bottom:-b}),a(".footer-container").css({"padding-bottom":b}),a(window).scroll(function(){a(window).scrollTop()+a(window).height()>a(document).height()-100?a(".bottom-footer").css({bottom:0}):a(".bottom-footer").css({bottom:-b})})},b.Header=function(){if(a(window).width()>1024){if(a("#bubble").length>0){new Waypoint({element:document.getElementById("bubble"),handler:function(b){a(".desktop-events .event:nth-child(1)").delay(1100).fadeIn().addClass("bounceIn"),a(".desktop-events .event:nth-child(2)").delay(1500).fadeIn().addClass("bounceIn"),a(".desktop-events .event:nth-child(3)").delay(1400).fadeIn().addClass("bounceIn"),a(".desktop-events .event:nth-child(4)").delay(900).fadeIn().addClass("bounceIn"),a(".desktop-events .event:nth-child(5)").delay(1200).fadeIn().addClass("bounceIn"),a(".desktop-events .event:nth-child(6)").delay(300).fadeIn().addClass("bounceIn"),a(".desktop-events .event:nth-child(7)").delay(100).fadeIn().addClass("bounceIn"),a(".rand-artists .artist:nth-child(1)").delay(1300).fadeIn().addClass("bounceIn"),a(".rand-artists .artist:nth-child(2)").delay(400).fadeIn().addClass("bounceIn"),a(".rand-artists .artist:nth-child(3)").delay(900).fadeIn().addClass("bounceIn"),a(".rand-artists .artist:nth-child(4)").delay(700).fadeIn().addClass("bounceIn"),a(".rand-artists .artist:nth-child(5)").delay(200).fadeIn().addClass("bounceIn"),a(".rand-artists .artist:nth-child(6)").delay(900).fadeIn().addClass("bounceIn"),a(".rand-artists .artist:nth-child(7)").delay(600).fadeIn().addClass("bounceIn")},offset:"70%"})}var b=a(".metaslider").height();a(".metaslider").css({height:b}),a(".flexslider").css({position:"fixed"}),a(window).on("scroll",function(){var b=a(window).scrollTop();b>50?(a("header .logo img").css({height:"60px",transition:"all 0.3s ease-in-out"}),a('div:not([id^="mm-"]) .main-menu ul').css({"margin-top":"2rem",transition:"all 0.3s ease-in-out"}),a(".top-icons .social-icons").css({"margin-top":"0rem",transition:"all 0.3s ease-in-out"}),a(".flexslider").css({"margin-top":"-40px",transition:"all 0.3s ease-in-out"})):(a("header .logo img").css({height:"100","transition-delay":"2s",transition:"all 0.3s ease-in-out"}),a('div:not([id^="mm-"]) .main-menu ul').css({"margin-top":"4rem","transition-delay":"2s",transition:"all 0.2s ease-in-out"}),a(".top-icons .social-icons").css({"margin-top":"2rem","transition-delay":"2s",transition:"all 0.2s ease-in-out"}),a(".flexslider").css({"margin-top":"0px",transition:"all 0.3s ease-in-out"}))}),a(".artists-grid .esg-dropdown-wrapper").css({display:"none"});var c=a(".home .photogallery .myportfolio-container #eg-3-post-id-437").height();a(".home .photogallery").css({height:c,"background-color":"#214e58"});var d=a(".home .bn-in .bnwarp .half").height();a(".home .bn-in").css({height:d+300,"background-color":"#214e58"});var e=a(window).height(),f=a(document).height(),g=e-(c+d+80),h=a(".home .top-footer").height();a(".home footer").css({height:h});var i=f-e,j=a(".metaslider").height()-a(".events-content").outerHeight()/2;a(window).on("scroll",function(){var b=a(window).scrollTop();a(window).width()>1600?b>i-(h+g-80)?(a(".home .top-footer").css({position:"relative",top:"auto"}),a(".flexslider").css({position:"relative"}),console.log("footerheight"+h+"empetyspace"+g)):b>j-80?(a(".home .bn-in .bnwarp").css({position:"fixed",top:c+80}),a(".home .photogallery .vc_column-inner article#2 .esg-container-fullscreen-forcer").css({position:"fixed",top:"80px"}),a(".home .top-footer").css({position:"fixed",top:c+d+80}),a(".flexslider").css({position:"relative"})):(a(".home .top-footer").css({position:"relative",top:"auto"}),a(".home .bn-in .bnwarp").css({position:"relative",top:"auto"}),a(".home .photogallery .vc_column-inner article#2 .esg-container-fullscreen-forcer").css({position:"relative",top:"auto"}),a(".flexslider").css({position:"fixed"})):b>i-(h+g)?(a(".home .top-footer").css({position:"relative",top:"auto"}),a(".flexslider").css({position:"relative"}),console.log("footerheight"+h+"empetyspace"+g)):b>j-40?(a(".home .bn-in .bnwarp").css({position:"fixed",top:c+80}),a(".home .photogallery .vc_column-inner article#2 .esg-container-fullscreen-forcer").css({position:"fixed",top:"80px"}),a(".home .top-footer").css({position:"fixed",top:c+d+80}),a(".flexslider").css({position:"relative"})):(a(".home .top-footer").css({position:"relative",top:"auto"}),a(".home .bn-in .bnwarp").css({position:"relative",top:"auto"}),a(".home .photogallery .vc_column-inner article#2 .esg-container-fullscreen-forcer").css({position:"relative",top:"auto"}),a(".flexslider").css({position:"fixed"}))})}},b}(jQuery);Init.AutoRun();var Forms=function(a){var b={};return b.ReserveEvent=function(b){var c=a("#form_reserve_ticket"),d=a("#form_reserve_ticket_responce");return a.post(b,c.serialize()).done(function(){c.hide("slow"),d.text("thank you, your request is beeing processed")}).fail(function(){c.hide("slow"),d.text("an error happened pls try again later")}).always(function(){}),!1},b.Prefs=function(b){var c=a("#form_prefs"),d=a("#form_prefs_responce"),e={checkBoxes:[],userFields:{}};a('input[name="user_fields"]').each(function(){this.value&&(e.userFields[this.id]=this.value)});var f=document.getElementsByName("pref_check");for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];h.checked&&e.checkBoxes.push(h.id)}return a.ajax({type:"POST",url:b,data:JSON.stringify(e),contentType:"application/json",dataType:"json"}).done(function(){c.hide("slow"),d.text("thank you, your preference have been saved")}).fail(function(){c.hide("slow"),d.text("an error happened pls try again later")}).always(function(){}),!1},b.PrefsModal=function(b){var c=a("#form_prefs_modal"),d=a("#form_prefs_responce_modal"),e={checkBoxes:[],userFields:{}};a('input[name="user_fields_modal"]').each(function(){this.value&&(e.userFields[this.id]=this.value)});var f=document.getElementsByName("pref_check_modal");for(var g in f)if(f.hasOwnProperty(g)){var h=f[g];h.checked&&e.checkBoxes.push(h.id)}return a.ajax({type:"POST",url:b,data:JSON.stringify(e),contentType:"application/json",dataType:"json"}).done(function(){c.hide("slow"),d.text("thank you, your preference have been saved")}).fail(function(){c.hide("slow"),d.text("an error happened pls try again later")}).always(function(){}),!1},b}(jQuery);